#!/usr/bin/env bash
#
# Locates GitHub organizations.
# Organizations are limited to those of which the current GitHub CLI user is a member.
#
# Usage:
#   complete-gh-orgs [organization-query] [repository-query]
#
#   organization-query: A query to filter organizations by name.
#
# Example:
#   $ complete-gh-orgs So
#   SomeDummyOrganization
#

set -e -u -o pipefail

# organizations according to the GitHub CLI
organization_query=$1
gh api /user/orgs --jq '.[].login' | grep "^$organization_query"
